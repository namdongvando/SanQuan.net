app.controller("homeController", homeController);function homeController($scope, $rootScope, $http, $routeParams) {    function getlocalStorage(key, link) {        $http.get(link).then(function(res) {            console.log(key);            return res.data;        });    }    $scope.homeint = function() {//        $scope.DanhMucByParentInit();    }    $http.get("/api/SanPhamHome/").then(function(res) {        $scope._SanPhamTranChu = res.data;    });    $http.get("/api/CanSangGap/").then(function(res) {        $scope._CanSangGap = res.data;    });    $http.get("/api/SanPhamHot/").then(function(res) {        $scope._SanPhamHOT = res.data;    });    $http.get("/api/danhsachdanhmuc/").then(function(res) {        $scope._DanhMuc = res.data;    });    $http.get("/api/getrssbylink/").then(function(res) {        $scope._RssPL = res.data;    });    $http.get("/api/getrsskinhdoanh/").then(function(res) {        $scope._RssKD = res.data;    });//    $scope._SanPhamTranChu = getlocalStorage("_SanPhamTranChu", "/api/SanPhamHome/");//    $scope._CanSangGap = getlocalStorage("_CanSangGap", "/api/CanSangGap/");//    $scope._SanPhamHOT = getlocalStorage("_SanPhamHOT", "/api/SanPhamHot/");//    $scope._DanhMuc = getlocalStorage("_DanhMuc", "/api/danhsachdanhmuc/");//    $scope._RssPL = getlocalStorage("_RssPL", "/rss/getrssbylink/");//    $scope._RssKD = getlocalStorage("_RssKD", "/rss/getrsskinhdoanh/");//    console.log($scope._Rss);//    console.log($scope._CanSangGap);//    console.log($scope._SanPhamHOT);//    console.log($scope._DanhMuc);//    console.log($scope._DanhMuc);    $scope.getDanhMucByParent = function(id) {        if ($scope._DanhMuc) {            return $scope._DanhMuc.filter(function(item) {                if (item.CapCha == id)                    return item;            });        }        return [];    };////    if (window.localStorage.getItem("_CanSangGap") == null) {//        $http.get("/api/CanSangGap/").then(function(res) {//            $scope._CanSangGap = res.data;//            window.localStorage.setItem("_CanSangGap", JSON.stringify($scope._CanSangGap));//        });//    } else {//        $scope._CanSangGap = JSON.parse(window.localStorage.getItem("_CanSangGap"));////            $scope._DanhMuc = window.localStorage.getItem("_DanhMuc");//        $http.get("/api/CanSangGap/").then(function(res) {//            $scope._CanSangGap = res.data;//            window.localStorage.setItem("_CanSangGap", JSON.stringify($scope._CanSangGap));//        });//    }//    $http.get("/api/CanSangGap/").then(function(res) {//        $scope._CanSangGap = res.data;//    });//    $http.get("/api/CanSangGap/").then(function(res) {//        $scope._CanSangGap = res.data;//    });//    $http.get("/api/danhsachdanhmuc/").then(function(res) {//        $scope._DanhMuc = res.data;//        window.localStorage.setItem("_DanhMuc", JSON.stringify($scope._DanhMuc));////        console.log(log);//    });//    $scope.DanhMucByParentInit = function() {//        if (window.localStorage.getItem("_DanhMuc") == null) {//            $http.get("/api/danhsachdanhmuc/").then(function(res) {//                $scope._DanhMuc = res.data;//                window.localStorage.setItem("_DanhMuc", JSON.stringify($scope._DanhMuc));//            });//        } else {//            $scope._DanhMuc = JSON.parse(window.localStorage.getItem("_DanhMuc"));////            $scope._DanhMuc = window.localStorage.getItem("_DanhMuc");//            $http.get("/api/danhsachdanhmuc/").then(function(res) {//                $scope._DanhMuc = res.data;//                window.localStorage.setItem("_DanhMuc", JSON.stringify($scope._DanhMuc));//            });//        }////        console.log($scope._DanhMuc);////    }}